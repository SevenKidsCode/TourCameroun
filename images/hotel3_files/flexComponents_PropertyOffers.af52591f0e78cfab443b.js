(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[9842],{21348:function(e,t,r){r.d(t,{b8:function(){return h},T9:function(){return k},gk:function(){return g}});var a=r(67294),n=r(82217),o=r(29892),i=r(73030),l=r(14384),d=r(18242),c=r(26184),m=function(){var e=(0,o.useLocalization)().formatText;return{startId:"hotels-check-in",startLabel:e("datePicker.fromDate.label"),startName:"startDate",startPlaceholder:e("datePicker.dateInput.placeholder"),startInvalid:"",endId:"hotels-check-out",endLabel:e("datePicker.toDate.label"),endName:"endDate",endPlaceholder:e("datePicker.dateInput.placeholder"),endInvalid:"",buttonText:e("datePicker.doneHeader"),daysBookableInAdvance:500,midnightBookingOffset:4,__typename:"LodgingFormDateField",validations:[{__typename:"StartDateRequiredValidation",error:e("wizard.datePicker.warning.invalidFromDate.text"),events:[n.vw.ON_CHANGE,n.vw.ON_SUBMIT]},{__typename:"EndDateRequiredValidation",error:e("wizard.datePicker.warning.invalidToDate.text"),events:[n.vw.ON_CHANGE,n.vw.ON_SUBMIT]},{__typename:"DateOrderValidation",error:e("wizard.datePicker.warning.invalidToDate.text"),events:[n.vw.ON_LOAD,n.vw.ON_CHANGE,n.vw.ON_SUBMIT]},{__typename:"MaxDateRangeValidation",error:e("wizard.datePicker.warning.activity.dateRangeOverLimit.text"),maxDateRange:28,events:[n.vw.ON_LOAD,n.vw.ON_CHANGE,n.vw.ON_SUBMIT]}]}},u=function(){var e=(0,o.useLocalization)().formatText;return{__typename:"LodgingFormTravelers",label:e("wizard.roomPicker.travelers.title"),travelersSummary:{__typename:"TravelersSummary",singleRoomSingleGuest:e("wizard.roomPicker.singleRoomSingleGuest"),singleRoomMultipleGuests:e("wizard.roomPicker.singleRoomMultipleGuests","{0}"),multipleRoomsSingleGuest:e("wizard.roomPicker.multipleRoomsSingleGuest","{0}"),multipleRoomsMultipleGuests:e("wizard.roomPicker.multipleRoomsMultipleGuests","{0}","{1}")},roomPicker:{__typename:"RoomPicker",toolBarIconLabel:e("wizard.roomPicker.closeButton.a11yLabel"),toolBarTitle:e("wizard.roomPicker.title"),addRoomText:e("wizard.roomPicker.addRoomButton.label"),doneLabel:e("datePicker.doneHeader"),roomAddedLiveAnnounce:e("wizard.roomPicker.roomAdded.liveAnnounce","{0}"),room:{__typename:"RoomField",roomTitleAriaLabel:e("wizard.roomPicker.room.a11yLabel","{0}","{1}"),roomTitle:e("wizard.roomPicker.room.title","{0}"),adultsStepInput:{__typename:"StepInput",title:e("wizard.roomPicker.adults.text"),increaseText:e("wizard.roomPicker.increaseAdultsInRoom.text","{0}"),decreaseText:e("wizard.roomPicker.decreaseAdultsInRoom.text","{0}"),caption:null},childrenStepInput:{__typename:"StepInput",title:e("wizard.roomPicker.children.text"),increaseText:e("wizard.roomPicker.increaseChildrenInRoom.text","{0}"),decreaseText:e("wizard.roomPicker.increaseInfantInRoom.text","{0}"),caption:e("wizard.roomPicker.children.caption")},removeRoomButtonLabel:e("wizard.roomPicker.removeRoomButton.label"),removeRoomButtonAriaLabel:e("wizard.roomPicker.removeRoomButton.a11yLabel","{0}","{1}"),roomRemovedLiveAnnounce:e("wizard.roomPicker.removeRoomButton.a11yLabel","{0}"),childrenAges:{__typename:"ChildrenAges",selectChildAgeLabel:e("wizard.roomPicker.childAgeInput.label","{0}"),youngestChildAgeText:e("wizard.roomPicker.infants.firstyear"),childAgeUpdatedLiveAnnounce:e("wizard.roomPicker.childUpdated.liveAnnounce","{0}","{1}")}}}}},s=function(){return(s=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},v=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,n,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},f=(0,c.t)(n.G5),p={id:"pdp-search-form",method:"GET",action:"/Hotel-Search"},w=function(e){var t=e.onChange,r=e.onError,o=e.children,i=a.useMemo((function(){return function(e){switch(e.type){case"change":t(e.field);break;case"error":r(e.errors)}}}),[t]);return a.createElement(n.Ix,{value:i},o)},k=function(e){var t=e.context,r=e.formRef,o=e.startDateRef,c=e.endDateRef,k=e.children,h=m(),g=u(),x=v((0,i.useDialog)("datepicker-start"),2)[1],E=v(a.useState(!1),2),_=E[0],b=E[1],P=a.useRef(!1),R={fieldName:"dates",data:h,startDateRef:o,endDateRef:c},L={fieldName:"travelers",data:g,closeOnSubmit:!1,trigger:n.Mr.INPUT},I=function(){history.go(-2)},z=_?I:void 0,D=function(){b(!1),window.removeEventListener("popstate",D)};return _&&window.addEventListener("popstate",D),a.createElement(w,{onChange:function(e){if("travelers"===e)return x.openDialog(),b(!0),void(P.current=!0);"dates"===e&&setTimeout((function(){var e;return null===(e=null==r?void 0:r.current)||void 0===e?void 0:e.submit()}),1)},onError:function(){P.current?(I(),P.current=!1):history.go(-1)}},a.createElement(f,{context:t,data:p,formRef:r},a.createElement(l.UitkSpacing,{padding:{blockend:"four"}},a.createElement(d.UitkLayoutFlex,{space:"two",wrap:"wrap"},a.createElement(d.UitkLayoutFlexItem,{grow:2},a.createElement("div",null,a.createElement(n.Nn,s({},R,{closeOnSubmit:!1,onDismiss:z,isOpenOverride:!0})))),a.createElement(d.UitkLayoutFlexItem,{minWidth:"third_width",grow:1},a.createElement("div",null,a.createElement(n.Po,s({},L)))),a.createElement(y,{context:t}),k))))},h=function(e){var t=e.context,r=e.startDateRef,i=e.endDateRef,c=e.children,v=(0,o.useLocalization)().formatText,w={fieldName:"dates",data:m(),startDateRef:r,endDateRef:i},k={fieldName:"travelers",data:u(),closeOnSubmit:!0,trigger:n.Mr.INPUT};return a.createElement(f,{context:t,data:p},a.createElement(l.UitkSpacing,{padding:{blockstart:"two",blockend:"four"}},a.createElement(d.UitkLayoutFlex,{space:"two"},a.createElement(d.UitkLayoutFlexItem,{grow:2},a.createElement("div",null,a.createElement(n.Nn,s({},w)))),a.createElement(d.UitkLayoutFlexItem,{minWidth:"third_width"},a.createElement("div",null,a.createElement(n.Po,s({},k)))),a.createElement(d.UitkLayoutFlexItem,{grow:1},a.createElement("div",null,a.createElement(n.Mm,{fieldName:"submit",data:{__typename:"LodgingFormSubmitButton",label:v("hotels.checkAvailability")}}))),a.createElement(y,{context:t}),c)))},g=function(e){var t=e.context,r=e.startDateRef,i=e.endDateRef,l=e.children,c=(0,o.useLocalization)().formatText,v={fieldName:"dates",data:m(),startDateRef:r,endDateRef:i},w={fieldName:"travelers",data:u(),closeOnSubmit:!0,trigger:n.Mr.INPUT};return a.createElement(f,{context:t,data:p},a.createElement(d.UitkLayoutFlex,{space:"three",wrap:"wrap"},a.createElement(d.UitkLayoutFlexItem,{minWidth:"full_width"},a.createElement("div",null,a.createElement(n.Nn,s({},v)))),a.createElement(d.UitkLayoutFlexItem,{minWidth:"full_width"},a.createElement("div",null,a.createElement(n.Po,s({},w)))),a.createElement(d.UitkLayoutFlexItem,{minWidth:"full_width"},a.createElement("div",null,a.createElement(n.Mm,{fieldName:"submit",data:{__typename:"LodgingFormSubmitButton",label:c("hotels.checkAvailability")}}))),a.createElement(y,{context:t}),l))},y=function(e){var t,r=e.context,n=String(r.searchContext.location.id),o=String(null===(t=r.searchContext.location.parent)||void 0===t?void 0:t.id);return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"selected",value:n}),a.createElement("input",{type:"hidden",name:"regionId",value:o}))}}}]);
//# sourceMappingURL=flexComponents~PropertyOffers.af52591f0e78cfab443b.js.map