(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[2302],{38519:function(e,t,n){var a;n.d(t,{J:function(){return a}}),function(e){e.IN_SEAT="seat",e.ON_LAP="lap"}(a||(a={}))},4775:function(e,t,n){var a;n.d(t,{m:function(){return a}}),function(e){e.FLIGHT_SEARCH="FLIGHT_SEARCH",e.HOTWIRE_FLIGHT_SEARCH="HOTWIRE_FLIGHT_SEARCH",e.HOTEL_SEARCH="HOTEL_SEARCH",e.HOTWIRE_HOTEL_SEARCH="HOTWIRE_HOTEL_SEARCH",e.PACKAGE_SEARCH="PACKAGE_SEARCH",e.HOTWIRE_PACKAGE_SEARCH="HOTWIRE_PACKAGE_SEARCH",e.CRUISE_SEARCH="CRUISE_SEARCH",e.GROUND_TRANSPORT_SEARCH="GROUND_TRANSPORT_SEARCH",e.CAR_SEARCH="CAR_SEARCH",e.THIRD_SEARCH="THIRD_SEARCH",e.NONE="NONE"}(a||(a={}))},46979:function(e,t,n){n.d(t,{P:function(){return Re}});var a=n(67294),r=n(80955),i=n(22613),l=n(22188),o=n(64366),c=n(13031),u=n(32321),d=n(52754),s=n(68084),m=n(22570),f=n(49560),h=n(56923),g=n(67560),v=n(14384),p=n(29892),S=(0,r.observer)((function(e){var t=e.onChange,n=e.id,r=e.labelKey,i=e.dataTestid,l=e.children,o=e.ageOptions,c=e.padding,u=e.menuIndex,d=(0,p.useLocalization)().formatText,s=function(e){var n=+e.currentTarget.id.slice(-1);t(u,n)(e)};return a.createElement("div",null,a.createElement(v.UitkSpacing,{padding:c},a.createElement(g.UitkLayoutGrid,{columns:2,space:"two","data-testid":i},l.map((function(e,t){var i=d(r,t+1),l=n+"-"+u+"-"+t,c=isNaN(+l.slice(-1))?""+t:l;return a.createElement(g.UitkLayoutGridItem,{colSpan:1,key:t},a.createElement(h.e,{label:i,value:e.age.toString(),onChange:s,id:c},a.createElement("option",{value:"-1"}),o.map((function(e){return a.createElement("option",{key:e.value,value:e.value},e.name)}))))})))))})),E="wizard.roomPicker.roomPickerOpened.liveAnnounce",T="wizard.roomPicker.roomAdded.liveAnnounce",k="wizard.roomPicker.roomRemoved.liveAnnounce",R="wizard.roomPicker.doneButton.label",A="wizard.roomPicker.addRoomButton.label",O="wizard.roomPicker.removeRoomButton.label",C="wizard.roomPicker.childAgeInput.label",y="wizard.roomPicker.infantAgeInput.label",w="wizard.roomPicker.room.title",I="wizard.roomPicker.room.a11yLabel",x="wizard.roomPicker.childUpdated.liveAnnounce",b="wizard.roomPicker.infantUpdated.liveAnnounce",P="wizard.roomPicker.decreaseAdults.text",H="wizard.roomPicker.decreaseChildren.text",_="wizard.roomPicker.decreaseInfants.text",L="wizard.roomPicker.decreaseAdultsInRoom.text",N="wizard.roomPicker.decreaseChildrenInRoom.text",z="wizard.roomPicker.decreaseInfantsInRoom.text",F="wizard.roomPicker.adults.text",U="wizard.roomPicker.increaseAdults.text",G="wizard.roomPicker.increaseChildren.text",K="wizard.roomPicker.increaseInfant.text",j="wizard.roomPicker.increaseAdultsInRoom.text",B="wizard.roomPicker.increaseChildrenInRoom.text",D="wizard.roomPicker.increaseInfantInRoom.text",W="wizard.roomPicker.children.text",M="wizard.roomPicker.infants.text",J="wizard.airline.children.seatRules",V="wizard.airline.children.seatRulesPlural",Q="wizard.airline.children.seatOption.inSeat",Y="wizard.airline.children.seatOption.onLap",X="wizard.airline.ageRules.label",q=n(23534),Z=n(72933),$=n(18242),ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},te=(0,r.inject)("analytics","context")((function(e){var t,n=a.createRef();e.roomRefs.push(n);var r,i=(0,p.useLocalization)().formatText,l=function(e,t,n,a){var r=t.adults,i=t.children;return e?a+Math.min(n,e-(r+i.length)):n},o=(0,q.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),d="guests.",s=(e.lobState.config.elementId||"").includes("flight"),m=s?i(U):i(j,e.index+1),h=s?i(P):i(L,e.index+1),g=s?i(G):i(B,e.index+1),E=s?i(H):i(N,e.index+1),T=s?i(K):i(D,e.index+1),R=s?i(_):i(z,e.index+1),A=1===e.index?"six":"unset",J=1===e.index?"two":"unset";return a.createElement(v.UitkSpacing,{padding:{blockstart:A},margin:{blockstart:J}},a.createElement("div",{className:"roomPickerRoom","data-testid":"room-"+(e.index+1)},e.config.withRooms&&a.createElement(v.UitkSpacing,{padding:{blockstart:"two"}},a.createElement("div",{"aria-label":i(I,e.index+1,e.travelers.rooms.length),tabIndex:0,ref:n,"data-testid":"room-header"},a.createElement(Z.UitkHeading,{size:7,tag:"h3","aria-hidden":"true"},i(w,e.index+1)))),a.createElement(f.Q,{title:i(F),increaseText:m,decreaseText:h,caption:i((null===(t=e.config)||void 0===t?void 0:t.adultsCaptionToken)||""),max:l(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxAdultsPerRoom,e.room.adults),min:e.config.minAdultsPerRoom,value:e.room.adults,onChange:(r=e.index,function(t){e.setTravelers({rooms:e.travelers.rooms.map((function(e,n){return n===r?ee(ee({},e),{adults:parseInt(t.target.value,10)}):e})),infantSeating:e.travelers.infantSeating}),o.trackEvent(""+d+r+".adults")}),className:"adultStepInput",id:"adult-input-"+e.index}),a.createElement(f.Q,{title:i(W),increaseText:g,decreaseText:E,caption:i(e.config.childrenCaptionToken),max:l(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxChildrenPerRoom,e.room.children.length),min:e.config.minChildrenPerRoom,value:e.room.children.length,onChange:function(t){return function(n){var a=parseInt(n.target.value,10)>e.travelers.rooms[t].children.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minChildAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,n){return n===t?ee(ee({},e),{children:a?e.children.concat({age:r}):e.children.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),o.trackEvent(""+d+t+".children")}}(e.index),className:"childStepInput",id:"child-input-"+e.index}),e.room.children&&e.room.children.length>0&&e.config.withAges&&a.createElement(S,{ageOptions:e.childAgeOptions,onChange:function(t,n){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===t?ee(ee({},e),{children:e.children.map((function(e,t){return t===n?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,u.liveAnnounce)(i(x,n+1,r),u.Level.POLITE)}},children:e.room.children,padding:{blockstart:"one",blockend:"three"},menuIndex:e.index,labelKey:C,id:"child-age-input"}),e.config.withInfants&&a.createElement(a.Fragment,null,a.createElement(f.Q,{title:i(M),increaseText:T,decreaseText:R,caption:i(e.config.infantsCaptionToken),max:e.config.maxInfantsPerRoom,min:e.config.minInfantsPerRoom,value:e.room.infants.length,onChange:function(t){return function(n){var a=parseInt(n.target.value,10)>e.travelers.rooms[t].infants.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minInfantAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,n){return n===t?ee(ee({},e),{infants:a?e.infants.concat({age:r}):e.infants.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),o.trackEvent(""+d+t+".infants")}}(e.index),className:"childStepInput",id:"infant-input-"+e.index}),e.config.withAges&&a.createElement(S,{ageOptions:e.infantAgeOptions,onChange:function(t,n){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===t?ee(ee({},e),{infants:e.infants.map((function(e,t){return t===n?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,u.liveAnnounce)(i(b,n+1,r),u.Level.POLITE)}},children:e.room.infants,padding:{blockstart:"one"},dataTestid:"infant-ages",menuIndex:e.index,labelKey:y,id:"infant-age-input"})),e.index>0&&a.createElement(v.UitkSpacing,{padding:{blockstart:"four"}},a.createElement($.UitkLayoutFlex,{justifyContent:"end"},a.createElement($.UitkLayoutFlexItem,null,a.createElement("div",{className:"removeRoomButton"},a.createElement(c.UitkTertiaryButton,{onClick:function(t){return function(){e.setTravelers({rooms:e.travelers.rooms.filter((function(e,n){return t!==n})),infantSeating:e.travelers.infantSeating}),(0,u.liveAnnounce)(i(k,""),u.Level.POLITE),e.setTotalRoomRefs(e.totalRoomRefs-1),o.trackEvent(d+"remove-room")}}(e.index),text:i(O)})))))))})),ne=n(38519),ae=n(11869),re=(0,r.inject)("analytics")((function(e){var t=[],n=[],r=(0,p.useLocalization)().formatText,i=function(e,t,n,a){for(var i=e;i<=t;i++){var l=i===e&&n?r(n):i.toString();a.push({value:i.toString(),name:l})}};i(e.config.minChildAge,e.config.maxChildAge,e.config.youngestChildAgeTextToken,t),i(e.config.minInfantAge,e.config.maxInfantAge,e.config.youngestInfantAgeTextToken,n);var l=(0,q.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),f="guests.",h=(0,ae.Y)(e.travelers),g=h.numOfChildren,v=h.numOfInfants,S=e.config.withRooms&&e.travelers.rooms.length<e.config.maxRooms,E=e.config.withInfants&&e.config.withFlight&&!!v,k=e.config.withFlight&&e.config.withAges&&(!!g||e.config.withInfants&&!!v),O=v&&v>1?V:J;return a.createElement(a.Fragment,null,a.createElement("section",{className:"uitk-cell all-x-padding-one all-t-padding-half all-b-padding-twelve uitk-scroll-vertical"},e.travelers.rooms.map((function(r,i){return a.createElement(te,{setTravelers:e.setTravelers,travelers:e.travelers,key:i,index:i,room:r,config:e.config,roomRefs:e.roomRefs,totalRoomRefs:e.totalRoomRefs,setTotalRoomRefs:e.setTotalRoomRefs,childAgeOptions:t,infantAgeOptions:n,lobState:e.lobState})})),S&&a.createElement("div",{className:"addRoomButton uitk-type-right"},a.createElement(c.UitkTertiaryButton,{onClick:function(){e.setTravelers({rooms:e.travelers.rooms.concat({adults:1,children:[],infants:[]}),infantSeating:e.travelers.infantSeating}),(0,u.liveAnnounce)(r(T,e.travelers.rooms.length+1),u.Level.POLITE),e.setTotalRoomRefs(e.totalRoomRefs+1),l.trackEvent(f+"add-room")},text:r(A),"data-testid":"add-room-button"})),E&&a.createElement("div",{className:"airlineChildSeating all-t-padding-six"},a.createElement("fieldset",null,a.createElement("legend",{className:"uitk-type-300 all-b-padding-two"},r(O)),a.createElement(d.RS,{group:"InfantSeating",onChange:function(t){e.setTravelers({rooms:e.travelers.rooms,infantSeating:t.currentTarget.value})},selected:e.travelers.infantSeating},a.createElement(d.J0,{id:"ChildOnLap",labelClassName:"all-r-padding-six",value:ne.J.ON_LAP},r(Y)),a.createElement(d.J0,{id:"ChildInSeat",labelClassName:"all-r-padding-six",value:ne.J.IN_SEAT},r(Q))))),k&&a.createElement("div",{className:"uitk-cell all-cell-1-1"},a.createElement(s.UitkLink,{iconPos:s.UitkLinkAlign.RIGHT,type:s.UitkLinkTypeSize.SMALL,className:"airlineAgeRules"},a.createElement("a",{href:"/p/info-main/h_fw_default?rhtx=HTX_FLTSRCH_RT#travs",id:"airline-age-rules",target:"_blank",rel:"noopener"},r(X),a.createElement(m.UitkIcon,{id:"airline-age-rules-opens-in-new",name:"open_in_new",title:"Opens in a new window"})))),a.createElement("div",{className:"all-t-padding-two all-b-padding-six"})),a.createElement(o.oy,{className:"guestsDoneBtn",type:o.kL.BUTTON},a.createElement(c.UitkFloatingFullWidthButton,{onClick:function(){e.onSave(e.travelers)},size:c.UitkButtonSize.LARGE,isFullWidth:!0,"data-testid":"guests-done-button"},r(R))))})),ie=n(90426),le=n(41303),oe=function(){return(oe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ce=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l},ue=function(e){var t=[],n=e.invalidTokenKey,r=e.onChange,i=e.lobState,o=i.validateTravelersField,c=i.validateInfantsPerTraveler,u=i.validateUnattendedInfantInLap,d=i.config,s=(0,p.useLocalization)().formatText,m=ce(a.useState(0),2),f=m[0],h=m[1],g=ce(a.useState((0,l.toJS)(e.travelers)),2),v=g[0],S=g[1],T=o(),k=n||i.nonHotelTravelersInvalidKey||i.hotelTravelersInvalidKey||"",R=!T&&""!==k,A=ce(a.useState([]),2),O=A[0],C=A[1],y=e.config,w=y.invalidNumberOfInfantPerTravelerMessageToken,I=y.invalidUnattendedInfantOnLapMessageToken;return a.useEffect((function(){var e=t[t.length-1];e&&e.current&&e.current.focus(),k&&(c&&!c()&&k===w?C([d.travelers.minInfantPerTraveler,d.travelers.minAdultAge]):u&&!u()&&k===I?C([d.travelers.minAdultAge]):C([d.travelers.maxBookableTravelers]))}),[f,R]),a.createElement("div",{"aria-label":s(E)},a.createElement(le.Viewport,null,a.createElement(le.ViewSmall,null,a.createElement(a.Fragment,null,R&&a.createElement("div",{className:"all-x-padding-one all-t-padding-two"},a.createElement(ie.m,{className:"all-t-padding-two",locHeadingToken:k,locHeadingArgs:O})))),a.createElement(le.ViewLarge,null,a.createElement("div",{className:"all-x-padding-one all-t-padding-two"},a.createElement(Z.UitkHeading,{tag:"h3",size:5},s(e.config.dialogTitleToken)),R&&a.createElement(ie.m,{className:"all-t-padding-two",locHeadingToken:k,locHeadingArgs:O})))),a.createElement(re,oe({},e,{roomRefs:t,totalRoomRefs:f,setTotalRoomRefs:h,travelers:v,setTravelers:function(e){S(e),r(e)}})))},de=(0,r.observer)((function(e){var t=e.travelers,n=e.onSave,r=e.onChange,i=e.config,l=e.invalidTokenKey,o=e.lobState;return a.createElement(ue,{travelers:t,onSave:n,onChange:r,config:i,invalidTokenKey:l,lobState:o})})),se=n(4775),me=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fe=(0,r.inject)("context")((0,r.observer)((function(e){var t,n,r=e.hiddenInputType,i=e.flightSearch,l=e.hotwireFlightSearch,o=e.hotelSearch,c=e.hotwireHotelSearch,u=e.packageSearch,d=e.hotwirePackageSearch,s=e.cruiseSearch,m=e.thirdSearch,f=e.isApiCallEnabled,h=e.groundTransportSearch;switch(r){case se.m.GROUND_TRANSPORT_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adults",value:h.numOfAdults,"data-testid":"adults-input"}),h.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"children",value:h.numOfChildren,"data-testid":"children-input"}),h.numOfInfants>0&&a.createElement("input",{type:"hidden",name:"infants",value:h.numOfInfants,"data-testid":"infants-input"}));case se.m.FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"passengers",value:i,"data-testid":"passengers-input"});case se.m.HOTWIRE_FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"noOfTickets",value:l,"data-testid":"noOfTickets-input"});case se.m.HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:o.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:o.adults,"data-testid":"adults-input"}),o.children&&a.createElement("input",{type:"hidden",name:"children",value:o.children,"data-testid":"children-input"}));case se.m.HOTWIRE_HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:c.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:c.adults,"data-testid":"adults-input"}),c.children&&a.createElement("input",{type:"hidden",name:"children",value:c.children,"data-testid":"children-input"}));case se.m.PACKAGE_SEARCH:var g=[];try{for(var v=me(Object.keys(u)),p=v.next();!p.done;p=v.next()){var S=p.value;g.push(a.createElement("input",{type:"hidden",name:S,key:S,value:u[S],"data-testid":S+"-input"}))}}catch(T){t={error:T}}finally{try{p&&!p.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}return a.createElement(a.Fragment,null,g);case se.m.HOTWIRE_PACKAGE_SEARCH:return a.createElement(a.Fragment,null,Object.keys(d).map((function(e){return a.createElement("input",{type:"hidden",name:e,key:e,value:d[e],"data-testid":e+"-input"})})));case se.m.CRUISE_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adultCount",value:s.numOfAdults,"data-testid":"cruise-adults-input"}),s.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childCount",value:s.numOfChildren,"data-testid":"cruise-children-input"}),s.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childAges",value:s.childAges,"data-testid":"cruise-childAges-input"}));case se.m.THIRD_SEARCH:var E=[];return E.push(a.createElement("input",{type:"hidden",name:f?"adultCount":"adult",value:m.numOfAdults,"data-testid":"third-adult-input",key:"third-adult-input"})),m.numOfChildren>0&&(f?(E.push(a.createElement("input",{type:"hidden",name:"numChildren",value:m.numOfChildren,"data-testid":"third-child-input",key:"third-child-input"})),(m.childAges||"").split(",").forEach((function(e,t){E.push(a.createElement("input",{type:"hidden",name:"childAge",value:e,"data-testid":"third-child-"+t+"-input",key:"third-child-"+t+"-input"}))}))):E.push(a.createElement("input",{type:"hidden",name:"child",value:m.childAges,"data-testid":"third-child-ages-input",key:"third-child-ages-input"}))),a.createElement(a.Fragment,null,E);default:return a.createElement(a.Fragment,null)}}))),he=n(16484),ge=n(98369),ve=n(10174),pe=n(96820),Se=n(55584),Ee=n(51796),Te=n(41635),ke=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l},Re=(0,r.inject)("analytics")((0,r.observer)((function(e){var t=e.triggerType,n=void 0===t?he.Q.FAKE_INPUT:t,l=e.handleMenuTriggerState,o=e.lobState,c=e.onSave,u=e.setChange,d=e.isChanged,f=e.noRehydratationValues,h=e.config,g=e.metadata,v=e.travelers,S=e.tripLobType,E=e.analytics,T=e.invalidTokenKey,k=e.isApiCallEnabled,R=a.useContext(r.MobXProviderContext).routeStore,A=a.useRef(null),O="travelers-dialog-"+o.config.elementId,C=g.numOfAdults,y=g.numOfChildren,w=g.numOfInfants,I=g.flightSearch,x=g.hotwireFlightSearch,b=g.hotelSearch,P=g.hotwireHotelSearch,H=g.packageSearch,_=g.hotwirePackageSearch,L=g.cruiseSearch,N=g.groundTransportSearch,z=g.thirdSearch,F=h.withFlight,U=h.withRooms,G=h.withInfants,K=(null==f?void 0:f.numOfTravelers)&&!C?null==f?void 0:f.numOfTravelers:C+y+(G?w:0),j=ke(a.useState(!1),2),B=j[0],D=j[1],W=ke(a.useState(null==f?void 0:f.name),2),M=W[0],J=W[1],V=ke(a.useState(!1),2),Q=V[0],Y=V[1],X=ke(a.useState("guests-hidden"),2),Z=X[0],$=X[1],ee=(0,ae.c)(h,v.rooms,K),te=(0,p.useLocalization)().formatText,ne=1===K,re=1===v.rooms.length,ie=re&&!ne,oe=re&&ne?h.singleRoomSingleGuestToken:ie?h.singleRoomMultipleGuestsToken:h.multipleRoomsMultipleGuestsToken,ce=ne?h.singleTravelerToken:h.multipleTravelersToken,ue=re?K:v.rooms.length,se=h.withRooms?te(oe,ue,K):te(ce,K);a.useEffect((function(){J(void 0),$(""),Y(!0),d||o.lastSearchData||function(){var e,t,n=o instanceof pe.mU?1:2,a={rooms:[{adults:U&&F||S&&U||!U&&!F?2:n,children:[],infants:[]}],infantSeating:Se.J.ON_LAP};h.withRooms?null===(e=o.updateHotelTravelersSelection)||void 0===e||e.call(o,a):null===(t=o.updateNonHotelTravelersSelection)||void 0===t||t.call(o,a)}(),l&&B&&l(!1)}),[B]);var me=function(e){e.preventDefault(),R.updateSearch({pwaDialog:O}),Ie.trackEvent(xe+q.sF),D(!B)},Re=function(){return!o.validateTravelersField||o.validateTravelersField()},Ae=function(){return D((function(e){return!Re()&&e||!e}))},Oe=function(e){Ae(),e.preventDefault(),Ie.trackEvent(xe+q.sF)},Ce=function(){return a.createElement(le.Viewport,null,a.createElement(le.ViewSmall,null,a.createElement(i.om,{icon:h.icon,className:Z,label:te(h.labelToken),"aria-label":se,value:ee,name:M,"data-testid":"travelers-field-trigger",onClick:me,domRef:A})),a.createElement(le.ViewLarge,null,a.createElement(i.om,{icon:h.icon,className:Z,label:te(h.labelToken),"aria-label":se,onClick:Oe,value:ee,name:M,"data-testid":"travelers-field-trigger",domRef:A})))},ye=function(){return a.createElement(s.UitkLink,{iconPos:s.UitkLinkAlign.RIGHT,noWrap:!0},a.createElement("a",{href:"","data-testid":"travelers-field",role:"button",ref:A,"aria-label":se},ee,a.createElement(m.UitkIcon,{name:"expand_more"})))},we=function(){Re()&&(A.current&&A.current.focus(),R.goBack(),Ie.trackEvent(xe+q.t9)),Ae()},Ie=(0,q.uY)(o.trackingEnabled,E,o.moduleName),xe="guests.",be=o.config.elementId||"",Pe=be.includes("flight")||be.includes("hotel")?Ee.PositionType.RIGHT:Ee.PositionType.LEFT;return a.createElement(a.Fragment,null,a.createElement(Te.b,{showAdaptive:B,dialogWrapper:function(e){return a.createElement(ge.DialogRoute,{id:O},a.createElement(le.Layer,{onDismiss:we,id:O+"-dialog"},e))},handleDialogClick:me,handleMenuClick:Oe,adaptiveTrigger:function(){return n===he.Q.LINK_BUTTON?ye():Ce()},menuPosition:Pe,toolbar:{iconLabel:te(h.dialogCancelLabelToken),header:te(h.dialogTitleToken),type:ve.Bv.CLOSE,action:we}},a.createElement(de,{travelers:v,config:h,onSave:function(e){Re()&&(A.current&&A.current.focus(),c&&(u&&!d&&u(),c("SUBMIT",e)),R.queryParams.pwaDialog&&R.goBack(),Ie.trackEvent(xe+q.T_));Ae()},onChange:function(e){return c("CHANGE",e)},lobState:o,invalidTokenKey:T})),Q&&a.createElement(fe,{hiddenInputType:h.hiddenInputType,flightSearch:I,hotwireFlightSearch:x,hotelSearch:b,hotwireHotelSearch:P,groundTransportSearch:N,packageSearch:H,hotwirePackageSearch:_,cruiseSearch:L,thirdSearch:z,isApiCallEnabled:k}))})))},55584:function(e,t,n){n.d(t,{m:function(){return a.m},J:function(){return r.J}});var a=n(4775),r=n(38519)},16484:function(e,t,n){var a;n.d(t,{Q:function(){return a}}),function(e){e.FAKE_INPUT="fake input",e.LINK_BUTTON="link button"}(a||(a={}))},11869:function(e,t,n){n.d(t,{Y:function(){return l},c:function(){return o}});var a=n(38519),r=n(29892),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e){var t,n,r,l,o,c,u=[],d=[],s=e.rooms.reduce((function(t,n,r){var l,o,c,s;t.numOfAdults+=n.adults,t.numOfChildren+=n.children.length,t.numOfInfants+=n.infants.length;var m=[],f=0;try{for(var h=i(n.children),g=h.next();!g.done;g=h.next()){var v=g.value;m.push(v.age),d.push(r+1+"_"+v.age),f+=v.age>=12?1:0,t.packageSearch["childAges["+(r+1)+"]["+m.length+"]"]=v.age,t.hotwirePackageSearch["childrenAgePerRoom"+r+(m.length-1)]=v.age}}catch(T){l={error:T}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(l)throw l.error}}t.travelersAgeTwelveOrOlder+=n.adults+f;try{for(var p=i(n.infants),S=p.next();!S.done;S=p.next()){var E=S.value;m.push(E.age),d.push(r+1+"_"+E.age),t.packageSearch["childAges["+(r+1)+"]["+m.length+"]"]=E.age,t.hotwirePackageSearch["childrenAgePerRoom"+r+(m.length-1)]=E.age}}catch(k){c={error:k}}finally{try{S&&!S.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return u.push(n.adults),t.packageSearch["adultsPerRoom["+(r+1)+"]"]=n.adults,t.packageSearch["childrenPerRoom["+(r+1)+"]"]=n.children.length+n.infants.length,t.flightSearch=function(e,t,n){var r=e.numOfAdults,i="";return i="children:"+(e.numOfChildren+e.numOfInfants),i+=t.length?"["+t.join(";")+"]":"",i+=",adults:"+r,i+=",seniors:0",i+",infantinlap:"+(n===a.J.ON_LAP?"Y":"N")}(t,m,e.infantSeating),t.hotwireFlightSearch=function(e){return e.numOfAdults+e.numOfChildren}(t),t.hotwirePackageSearch["numAdultsPerRoom"+r]=n.adults,t.hotwirePackageSearch["numChildrenPerRoom"+r]=n.children.length+n.infants.length,t.cruiseSearch=function(e,t){var n=e.numOfAdults,a=e.numOfChildren,r=e.cruiseSearch;return r.numOfAdults=n,r.numOfChildren=a,t.length&&(r.childAges=t.join(",")),r}(t,m),t.thirdSearch=function(e,t){var n=e.numOfAdults,a=e.numOfChildren,r=e.thirdSearch;return r.numOfAdults=n,r.numOfChildren=a,t.length&&(r.childAges=t.join(",")),r}(t,m),t.groundTransportSearch=function(e){var t=e.numOfAdults,n=e.numOfChildren,a=e.numOfInfants,r=e.groundTransportSearch;return r.numOfAdults=t,r.numOfChildren=n,r.numOfInfants=a,r}(t),t}),{numOfAdults:0,numOfChildren:0,numOfInfants:0,numOfRooms:0,travelersAgeTwelveOrOlder:0,flightSearch:"",hotwireFlightSearch:0,hotelSearch:{rooms:"0",adults:"0"},hotwireHotelSearch:{rooms:"0",adults:"0"},packageSearch:{numberOfRooms:"0",infantsInSeats:"0"},hotwirePackageSearch:{numberOfRooms:"0",infantsInSeats:"0"},cruiseSearch:{numOfAdults:1,numOfChildren:0},thirdSearch:{numOfAdults:1,numOfChildren:0},groundTransportSearch:{numOfAdults:1,numOfChildren:0,numOfInfants:0}});return s.numOfRooms=e.rooms.length,s.hotelSearch=function(e,t,n){var a=n.numOfRooms,r=n.hotelSearch;return r.rooms=a.toString(),r.adults=e.join(","),t.length&&(r.children=t.join(",")),r}(u,d,s),s.hotwireHotelSearch=(n=(t=s).numOfAdults,r=t.numOfChildren,l=t.numOfInfants,o=t.numOfRooms,(c=t.hotwireHotelSearch).rooms=o.toString(),c.adults=n.toString(),c.children=(r+l).toString(),c),s.packageSearch.numberOfRooms=s.numOfRooms.toString(),s.hotwirePackageSearch.noOfRooms=s.numOfRooms.toString(),s.packageSearch.infantsInSeats=e.infantSeating===a.J.IN_SEAT?"1":"0",s},o=function(e,t,n){var a=(0,r.useLocalization)().formatText,i=e.withRooms,l=e.singleRoomSingleGuestToken,o=e.singleRoomMultipleGuestsToken,c=e.multipleRoomsMultipleGuestsToken,u=e.singleTravelerToken,d=e.multipleTravelersToken;return i?1===t.length&&1===n?a(l):1===t.length?a(o,n):a(c,t.length,n):1===n?a(u):a(d,n)}}}]);
//# sourceMappingURL=shared~TravelersField.903581607c3441bb6634.js.map